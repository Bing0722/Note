#### python基础语法

##### 1、注释

```py
# 这是一个单行注释

'''
这是一个多行注释
'''

"""
这也是多行注释
"""
```

##### 2、行与缩进

​	python最具特色的就是使用缩进来表示代码块，缩进的空格数是可变的，但是同一个代码块的语句必须包含相同的缩进空格数。

#### 基本数据类型

python中常见的数据类型有:

- **Number**
- **String**
- **Boolean**
- **List**
- **Tuple**
- **Set**
- **Dictionary**

##### 1、String

```py
"""
字符串常见操作
获取长度：len
查找内容：find, index, rfind, rindex
判断：startswith, endswith, isalpha, isalnum, isspace, isdigit
计算出现的次数：count
替换内容：replace
切割字符串：split, rsplit, splitlines, partition, rpartition
修改大小写：capitalize, title, upper, lower
空格处理：ljust, rjust, center, lstrip, rstrip
字符串拼接：join

字符串格式化
1. %d,%s,%f...
2. format
{}占位

字符串操作
1. 下标
2. 切片
"""
```

##### 2、List

```py
"""
如何定义一个列表：	<class 'list'>
1. 空列表  []
2. 有内容的列表: ['A', 'B', 'C'], [1,2,3,4], [1.2, 3.5, 5], [[],[],[]]

数据类型：
int
float
str
bool
list

列表操作
增 删 查 改
1. 添加元素：append, extend
	list.append(element) 		:追加
	list.extend(list) 			:合并列表 
2. 删除元素：pop, remove, clear, del
	list.pop(index) 			:删除列表元素不能超出范围
	list.remove(element)		:不能删除一个不存在的元素
	list.clear() 				:清除所有元素
	del(list)					:删除列表
3. 查找元素：in, index, count, not in
	element in list 			:判断元素是否在列表中
	list.index(element)			:查找元素索引
	list.count()				:返回整数
4. 修改元素： insert(index,element)
	list.insert(index,element)	:在索引位置插入元素
	list[index] 				:修改索引位置的元素

排序
	list.sort() 默认升序		
  
列表推导式
格式1：[i for i in 可迭代的]
list = [i for i in range(1, 21)] 第一个i将是列表中的元素
格式2：[i for i in 可迭代的 if 条件]
list = [i for i in range(0, 101) if i%2==0]
"""
```

##### 3、Tuple

```py
"""
python中的元组与列表类似 不同之处在于元组的元素不能修改
元组使用小括号(), 列表使用方括号[]

定义：
名 = ()
注意：如果元组中只有一个元素，必须添加逗号('aaa',), (1,), (1.2,)

方法：
	count()
	index()
关键字：
	in, not in

list(tuple)	-->	元组转列表 
tuple(list) -->	列表转元组
"""
```

##### 4、Dicitionary

```py
"""
特点：键值对
结构：{key1:val1, key2:val2, key3:val3}
字典：{}
元素：键值对	注意：键是唯一的，值允许重复

1. 添加元素：
	字典名[key] = value
2. 修改value
	字典名[key] = value
注意：如果字典中不存在该键,则是添加 如果字典中存在该键,则是修改

3. 删除元素
	pop删除元素：根据key实现删除，删除的是键值对，返回值key对应的value
	popitem() 返回值：(key, val) 从后往前删
	clear() 清空
	del dic[key] 类似与pop(key)
4. 遍历和查询
	index(key)
	count()
	in
	get(key)
如果使用for...in直接遍历字典，取出的是字典的key  
获取键：字典.keys()
获取值：字典.values() 就是将所有的值存放到一个列表中
获取键值对：字典.items()

update(dic) 实现两个字典的合并	因为字典没有 `+`
fromkeys()


# 字典推导式
"""
```

##### 5、Set

```py
"""
集合： set
特点：没有重复, 无序(没有下标)
符号：{} {元素,元素,元素,...} -->集合

定义集合：
set() 空集合

add()		添加元素
update()	合并
remove()	移除元素
集合： 交集 intersection 并集 union 差集 difference

list：	有序,允许重复
set：	无序,不允许重复


# 集合推导式
{}类似与列表对倒是 在列表推导式基础上加了一个去重复项
set = { x for x in list if x > n}
"""
```

**总结**

- **Lists**: 允许重复，有序，有下标  [ ]
- **Tuple**: 允许重复，里面的元素不能增删改，只能查看 （）
- **Dict**：键值对存在 键：唯一， 值：允许重复  { }
- **Set**：不允许重复， 无序 { }

#### 运算符

##### 1、算术运算符

| 运算符 | 描述 | 实例          |
| ------ | ---- | ------------- |
| +      | 加   | 1 + 1 = 2     |
| -      | 减   | 2 - 1 = 1     |
| *      | 乘   | 1 * 2 = 2     |
| /      | 除   | 2.1 / 1 = 2.1 |
| %      | 取模 | 3 % 2 = 1     |
| **     | 幂   | 2 ** 3 = 8    |
| //     | 整除 | 2.1 // 1 = 2  |

##### 2、比较运算符

| 运算符 | 描述     | 实例                |
| ------ | -------- | ------------------- |
| ==     | 等于     | (1 == 2) 返回 False |
| !=     | 不等于   | (1 != 2) 返回 True  |
| >      | 大于     | (1 > 2) 返回 False  |
| <      | 小于     | (1 < 2) 返回 True   |
| >=     | 大于等于 | (1 >= 2) 返回 False |
| <=     | 小于等于 | (1 <= 2) 返回 True  |

##### 3、赋值运算符

| 运算符 | 描述             | 实例                             |
| ------ | ---------------- | -------------------------------- |
| =      | 简单的赋值运算符 | c= a + b等价于 将a + b 的值赋给c |
| +=     | 加法赋值运算法   | c += a 等效于 c = c + a          |
| -=     | 减法赋值运算符   | c -= a 等效于 c = c - a          |
| *=     | 乘法赋值运算符   | c *= a 等效于 c = c * a          |
| /=     | 除法赋值运算符   | c /= a 等效于 c = c / a          |
| %=     | 取模赋值运算符   | c %= a 等效于 c = c % a          |
| **=    | 幂赋值运算符     | c \**= a 等效于 c = c ** a       |
| //=    | 取整除赋值运算符 | c //= a 等效于 c = c // a        |

##### 4、位运算符

| 运算符 | 描述           | 实例                 |
| ------ | -------------- | -------------------- |
| &      | 按位与运算符   | (60 & 13) 输出为12   |
| \|     | 按位或运算符   | (60 \| 13) 输出为61  |
| ^      | 按位异或运算符 | (60 ^ 13) 输出为49   |
| ~      | 按位取反运算符 | (~60 ) 输出为-61     |
| <<     | 左移动运算符   | 60 << 2 输出结果 240 |
| >>     | 右移动运算符   | 60 >> 2 输出结果 15  |

##### 5、逻辑运算符

| 运算符 | 描述                                                       | 实例               |
| ------ | ---------------------------------------------------------- | ------------------ |
| and    | 与 如果是两个布尔值的比较就返回布尔值 否则返回计算值(下同) | 10 and 20 返回 20  |
| or     | 或                                                         | 10 or 20 返回 10   |
| not    | 非                                                         | not(10) 返回 False |

##### 6、成员运算符

| 运算符 | 描述                                                    | 实例                                              |
| :----- | ------------------------------------------------------- | :------------------------------------------------ |
| in     | 如果在指定的序列中找到值返回 True，否则返回 False。     | x 在 y 序列中 , 如果 x 在 y 序列中返回 True       |
| not in | 如果在指定的序列中没有找到值返回 True，否则返回 False。 | x 不在 y 序列中 , 如果 x 不在 y 序列中返回 True。 |

##### 7、成员运算符

| 运算符 | 描述                                        | 实例                                                         |
| ------ | ------------------------------------------- | ------------------------------------------------------------ |
| is     | is 是判断两个标识符是不是引用自一个对象     | **x is y**, 类似 **id(x) == id(y)** , 如果引用的是同一个对象则返回 True，否则返回 False |
| is not | is not 是判断两个标识符是不是引用自不同对象 | **x is not y** ， 类似 **id(x) != id(y)**。如果引用的不是同一个对象则返回结果 True，否则返回 False。 |

##### 8、运算符优先级

| 运算符                                        | 描述                               |
| --------------------------------------------- | ---------------------------------- |
| (expr),{expr},[expr]                          | 圆括号的表达式                     |
| x[index],x[index:index],x(args), x.attr       | 读取，切片，调用，属性引用         |
| await x                                       | await 表达式                       |
| **                                            | 乘方(指数)                         |
| +x  -x    ~x                                  | 正，负，按位非 NOT                 |
| * , @ , / , // , %                            | 乘，矩阵乘，除，整除，取余         |
| +, -                                          | 加和减                             |
| << , >>                                       | 移位                               |
| &                                             | 按位与 AND                         |
| ^                                             | 按位异或 XOR                       |
| \|                                            | 按位或 OR                          |
| in, not int, is, is not, <, <=, >, >=, !=, == | 比较运算，包括成员检测和标识号检测 |
| not                                           | 逻辑非 NOT                         |
| and                                           | 逻辑与 AND                         |
| or                                            | 逻辑或 OR                          |
| if --else                                     | 条件表达式                         |
| lambda                                        | lambda 表达式                      |
| =                                             | 赋值表达式                         |

#### 条件语句

```py
"""
条件语句
if
if...else
if...elif...else

格式：
if 条件:
	成立要执行的语句
elif 条件:
	成立要执行的语句
else:
	不成立的语句

简单的语句可以这样写
成立要执行的语句 if 条件 else 不成立的语句
"""
```

#### 循环语句

```py
"""
循环语句
1. while
2. for

break 跳出循环
continue 跳过当前循环的剩余语句 继续进行下一轮循环

while 判断条件:
	执行语句...

for i in range():
	执行语句...

for...else		当执行完成之后 就执行else
while...else	当执行完成之后 就执行else
如果内部产生中断 不执行else
"""
```

#### python中公共方法

- print
- input
- type
- id
- len
- bin
- oct
- hex
- chr     给ASCII返回字母
- ord     给字母返回ASCII
- max
- min
- sum
- abs        绝对值

#### 函数

##### 1、函数的定义

```py
def fun([arg,...]):
    code
```

##### 2、可变参数

```py
*args
# 用于将多个位置参数（即按顺序传递的参数）以元组的形式传递给函数
**kwargs
# 用于将多个关键字参数（即以键值对传递的参数）以字典的形式传递给函数
```

##### 3、返回值

```py
def fun():
    pass
	return val
# 返回多个值就会封装在元组里返回
```

#### 全局变量和局部变量

- **全局变量**：全局可使用
- **局部变量**：作用范围仅限函数内部

> 当在函数内修该全局变量时：需要在内部使用global关键字声明这个全局变量

#### 引用和函数参数引用

- **sys.getrefcount()**：获取引用次数
- 函数的引用:
  - 必须分清楚传递的值是可变类型还是不可变类型
  - 如果是可变，里面发生改变，外层就能看到改变后内容
  - 如果是不可变，里面发生改变，不会影响外部得到的变量值

```py
"""
可变和不可变： 值之间的传递关系
不可变：int str tuple float bool
可变：list dict set
"""
```

#### 闭包

- **locals()**：表示查看函数中的局部变量，以字典的形式返回

```py
def fun1():
    pass
	def inner():
        pass
# 内部函数不能修该外部函数的变量
# 如果要修改外部函数的变量 要在内部函数使用关键字:nonlocal
```

```py
"""
闭包：
1. 嵌套函数
2. 内部函数引用外部变量
3. 返回值是内部函数
 
"""
```

#### 装饰器

```py
"""
装饰器
遵循开放封闭原则，在不改变原函数的情况下，拓展了函数的功能

定义：
def aaa(func):
	def xxx(*args, **kwargs)
		...
		func(*args, **kwargs)
		...
		return yyy
	return xxx

装饰：
@装饰器名
def 原函数():
	pass

装饰器(decorator)功能:
引入日志
函数执行时间统计
执行函数前的预备处理
执行函数后清理功能
权限校验等场景
缓存
"""
```

#### lambda匿名函数

```py
"""
匿名函数定义格式：
lambda 参数列表：返回值运算表达式
"""
```

#### 高阶函数

```py
"""
高阶函数
一个函数的参数是另一个函数
系统高阶函数：max min sorted

filter的匿名函数要求返回值不许是bool类型 只有bool类型为True的才是符合过滤条件的
map通过匿名函数指明提取的内容 并对内容进行其加工
"""
```

